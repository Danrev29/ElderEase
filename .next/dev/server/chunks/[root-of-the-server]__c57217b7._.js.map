{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/firebaseConfig.ts"],"sourcesContent":["// src/firebaseConfig.ts\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// Firebase config\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyChc-fNM_AYvxINVNYEKWZhzsLuwseDLd0\",\r\n  authDomain: \"elderease-ef8ca.firebaseapp.com\",\r\n  projectId: \"elderease-ef8ca\",\r\n  storageBucket: \"elderease-ef8ca.appspot.com\",\r\n  messagingSenderId: \"594018006274\",\r\n  appId: \"1:594018006274:web:7cc3b24c3c8f0031f4fe1b\",\r\n  measurementId: \"G-B4EYPLNTQD\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig); // <-- export app\r\nexport const analytics = getAnalytics(app); // optional\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;;;;;;AACxB;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,kBAAkB;AAClB,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAGO,MAAM,MAAM,IAAA,wMAAa,EAAC,iBAAiB,iBAAiB;AAC5D,MAAM,YAAY,IAAA,6MAAY,EAAC,MAAM,WAAW;AAChD,MAAM,OAAO,IAAA,oMAAO,EAAC;AACrB,MAAM,KAAK,IAAA,wMAAY,EAAC","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/app/api/auth/register/route.ts"],"sourcesContent":["// src/app/api/auth/register/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { auth, db } from '@/firebaseConfig';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, name, password, phone, birthYear } = await request.json();\n\n    // Basic validation\n    if (!email || !name || !password) {\n      return NextResponse.json(\n        { error: 'Email, name, and password are required' },\n        { status: 400 }\n      );\n    }\n\n    // Create Firebase Auth user\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    const firebaseUser = userCredential.user;\n\n    // Set display name in Firebase Auth\n    await updateProfile(firebaseUser, { displayName: name });\n\n    // Save extra user info in Firestore (document id = uid)\n    await setDoc(doc(db, 'users', firebaseUser.uid), {\n      id: firebaseUser.uid,\n      email,\n      name,\n      phone: phone || '',\n      birthYear: birthYear || '',\n      profilePhoto: '',\n      createdAt: new Date().toISOString(),\n    });\n\n    return NextResponse.json(\n      {\n        message: 'User created successfully',\n        user: {\n          id: firebaseUser.uid,\n          email,\n          name,\n          phone: phone || '',\n          birthYear: birthYear || '',\n        },\n      },\n      { status: 201 }\n    );\n  } catch (err: any) {\n    console.error('Registration error:', err);\n\n    if (err.code === 'auth/email-already-in-use') {\n      return NextResponse.json({ error: 'Email already in use' }, { status: 400 });\n    }\n\n    if (err.code === 'auth/invalid-email') {\n      return NextResponse.json({ error: 'Invalid email address' }, { status: 400 });\n    }\n\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AACrC;AACA;AAAA;AACA;AAAA;AACA;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEtE,mBAAmB;QACnB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU;YAChC,OAAO,qKAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAyC,GAClD;gBAAE,QAAQ;YAAI;QAElB;QAEA,4BAA4B;QAC5B,MAAM,iBAAiB,MAAM,IAAA,2NAA8B,EAAC,oJAAI,EAAE,OAAO;QACzE,MAAM,eAAe,eAAe,IAAI;QAExC,oCAAoC;QACpC,MAAM,IAAA,0MAAa,EAAC,cAAc;YAAE,aAAa;QAAK;QAEtD,wDAAwD;QACxD,MAAM,IAAA,kMAAM,EAAC,IAAA,+LAAG,EAAC,kJAAE,EAAE,SAAS,aAAa,GAAG,GAAG;YAC/C,IAAI,aAAa,GAAG;YACpB;YACA;YACA,OAAO,SAAS;YAChB,WAAW,aAAa;YACxB,cAAc;YACd,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,OAAO,qKAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,MAAM;gBACJ,IAAI,aAAa,GAAG;gBACpB;gBACA;gBACA,OAAO,SAAS;gBAChB,WAAW,aAAa;YAC1B;QACF,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,uBAAuB;QAErC,IAAI,IAAI,IAAI,KAAK,6BAA6B;YAC5C,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,IAAI,IAAI,IAAI,KAAK,sBAAsB;YACrC,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,OAAO,qKAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF","debugId":null}}]
}