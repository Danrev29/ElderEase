{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ElderEase-main/src/firebaseAdmin/serviceAccountKey.json"],"sourcesContent":["{\"type\":\"service_account\",\"project_id\":\"elderease-ef8ca\",\"private_key_id\":\"5f4e165052252746fff0daa782c108bc4fe69c3b\",\"private_key\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC82225b/gsE3CJ\\nkHMH48DCIH1Jj9zw4MgUzAf5zjAUpcYd/LOeGH11dy7u1w/62rBgNu1Azt17KsPw\\nsC66cUA7A+98xm24FCD4S/UzNHWFHbz2Z/8m8eSZOrIygz1vCGDx8tFnUqhKknTI\\naPMeHTiPM5aUtv7nxOO18Pg8hoo2LJmJH+ggZo08AX21uyV2dvi7ZNep8mGxTG3q\\nbABZAdqc3ebvo8kcpbhUl2B1sDYYHk4ZOma61qwOS5oqDU3eixNOfKacIbhgj2Xq\\n3/UhHBvXa6K+PGrgwNtoz0SdaEs5DBHkg+JZUCgs/PW8uSeEQVvvmEoqui4IJhyx\\nXHahMJzlAgMBAAECggEATLXkb7onV9/dikL+NmowVanUuhiRadYj7y6g3rr9lKVx\\nP6TxYHoaG6h5i9IXT5Gcqrgkzno4RFsuk4k8scZmjJIgqNIApxCmA7T2uAHK6nMV\\n2hCL90mxzPumfhYI0hzZI+25WPqeGQw8G1tlxQmhe6k8tNNP3tx+kdx7ODp90VrB\\ncOFW++QELR3EentdRBowrS2m6gWsvjkzqwXzOrMZ2X1RTDROoNzCLdSAug5CkYEz\\nMYW3umn/dMr679+wImiTgZcHUhrv2FgbRR3ArlMi6k6HTu0nZim5faIvm0ga4Ngu\\nE73VOxScc+7qiDTm49TmrqnI6NmF3aSAuiHc74QRUQKBgQDn9YehaRuZASDsb56i\\ncVVN81WFdJhk5F3tRlZQv5Vypo05IgShkvCMb+/DYMweIU8HcnUEo+3q66MuSNuf\\nE09cLWn525dP56XHIdHD9HhfJw5VyAVfMW3pp46sIj6jFiZaKS/tKkiujhgW6C3p\\njg2BrJB6OOkAMFa+i8xkxusUZwKBgQDQbksS2adaFJ88EP1RNcJqH74xUm1ZMzKS\\nS5glOeL+3SCHjVPO5eGcRREHJl1p3QAVlFYfp7jYOjcFuLOCiUsfUPqV5EFNKtzk\\nKyz8tEbxJPvFPC7At/flQloMj7UAy1rSlStTsGphCOqAXOp+7QyhVZsRvKHC35ib\\nIWv/ETtU0wKBgAX9/MP5sCHSuqQA+iseHGMIHzR0X59zms2PXJl3aYftr4ZDT7VQ\\n02/9UEdOz9cTazQ5C7bT+UhxT+TZMvs4B3vNHIi82HrS9CBhykZyoU1r993VbfYY\\nk8tObcwakl2qK9F2cOuChSAlQZAN7Wm0Jrsr1wuhPrunhAYmHGCaFuaPAoGAZ9uN\\nbQcnbKt57ORKVX0EMv0+ODVqZ1gritpAJcyCX5yv6NtzN1U05jlEEtv7EBUfRaF0\\niLF6WcQoRqGSUSk4VZJ0StxB7cG977PT5tetwds72Tvzz/PbglFdrYSuHIc36laK\\nEFmHqHJY5z1lW3mjIYEWk+/6arAfyq0MszxS5CECgYEAl4/Fg/rPmaJq4X+6fJz5\\nfwBwfRr2YEVI5mqrv+2ZMeWAvX5ceusotxIonmvs92rg4IEgBckuEYG+rFtlz2/6\\nKF3MsdWoq4p+y4K+URiQgFYg6X7DzpMij5S9eKUdNgHWHRxfD168mqJSfc3tPVHg\\nde58mC+cFMjT7lnPpQN4UOI=\\n-----END PRIVATE KEY-----\\n\",\"client_email\":\"firebase-adminsdk-fbsvc@elderease-ef8ca.iam.gserviceaccount.com\",\"client_id\":\"100618010194856590186\",\"auth_uri\":\"https://accounts.google.com/o/oauth2/auth\",\"token_uri\":\"https://oauth2.googleapis.com/token\",\"auth_provider_x509_cert_url\":\"https://www.googleapis.com/oauth2/v1/certs\",\"client_x509_cert_url\":\"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40elderease-ef8ca.iam.gserviceaccount.com\",\"universe_domain\":\"googleapis.com\"}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 45, "column": 2365}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/firebaseAdmin.ts"],"sourcesContent":["import admin from 'firebase-admin';\r\nimport serviceAccountJson from './firebaseAdmin/serviceAccountKey.json';\r\nimport { ServiceAccount } from 'firebase-admin';\r\n\r\nconst serviceAccount = serviceAccountJson as ServiceAccount;\r\n\r\nif (!admin.apps.length) {\r\n  admin.initializeApp({\r\n    credential: admin.credential.cert(serviceAccount),\r\n  });\r\n}\r\n\r\nexport const adminAuth = admin.auth();\r\nexport const adminDb = admin.firestore();\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGA,MAAM,iBAAiB,iJAAkB;AAEzC,IAAI,CAAC,sIAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,sIAAK,CAAC,aAAa,CAAC;QAClB,YAAY,sIAAK,CAAC,UAAU,CAAC,IAAI,CAAC;IACpC;AACF;AAEO,MAAM,YAAY,sIAAK,CAAC,IAAI;AAC5B,MAAM,UAAU,sIAAK,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/app/api/auth/login/route.ts"],"sourcesContent":["// src/app/api/auth/login/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\nimport { adminAuth, adminDb } from '@/firebaseAdmin';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, password } = await request.json();\n\n    if (!email || !password) {\n      return NextResponse.json({ error: 'Email and password are required' }, { status: 400 });\n    }\n\n    // Sign in with Firebase Admin\n    // Note: Admin SDK does not provide password verification directly.\n    // We use the Firebase Auth REST API for sign-in\n    const res = await fetch(`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${process.env.NEXT_PUBLIC_FIREBASE_API_KEY}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        email,\n        password,\n        returnSecureToken: true\n      }),\n    });\n\n    const data = await res.json();\n\n    if (data.error) {\n      return NextResponse.json({ error: 'Invalid email or password' }, { status: 401 });\n    }\n\n    // Fetch user data from Firestore\n    const userDoc = await adminDb.collection('users').doc(data.localId).get();\n\n    if (!userDoc.exists) {\n      return NextResponse.json({ error: 'User data not found' }, { status: 404 });\n    }\n\n    const userData = userDoc.data();\n\n    return NextResponse.json({\n      message: 'Login successful',\n      user: {\n        id: data.localId,\n        email: userData?.email,\n        name: userData?.name,\n        phone: userData?.phone,\n        birthYear: userData?.birthYear,\n      }\n    }, { status: 200 });\n\n  } catch (err) {\n    console.error('Login error:', err);\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAClC;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9C,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkC,GAAG;gBAAE,QAAQ;YAAI;QACvF;QAEA,8BAA8B;QAC9B,mEAAmE;QACnE,gDAAgD;QAChD,MAAM,MAAM,MAAM,MAAM,CAAC,0EAA0E,EAAE,QAAQ,GAAG,CAAC,4BAA4B,EAAE,EAAE;YAC/I,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;gBACA,mBAAmB;YACrB;QACF;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,IAAI,KAAK,KAAK,EAAE;YACd,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA4B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,iCAAiC;QACjC,MAAM,UAAU,MAAM,sJAAO,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,KAAK,OAAO,EAAE,GAAG;QAEvE,IAAI,CAAC,QAAQ,MAAM,EAAE;YACnB,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QAEA,MAAM,WAAW,QAAQ,IAAI;QAE7B,OAAO,qKAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,IAAI,KAAK,OAAO;gBAChB,OAAO,UAAU;gBACjB,MAAM,UAAU;gBAChB,OAAO,UAAU;gBACjB,WAAW,UAAU;YACvB;QACF,GAAG;YAAE,QAAQ;QAAI;IAEnB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,qKAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF","debugId":null}}]
}