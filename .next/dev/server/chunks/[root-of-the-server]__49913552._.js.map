{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/firebaseConfig.ts"],"sourcesContent":["// src/firebaseConfig.ts\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// Firebase config\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyChc-fNM_AYvxINVNYEKWZhzsLuwseDLd0\",\r\n  authDomain: \"elderease-ef8ca.firebaseapp.com\",\r\n  projectId: \"elderease-ef8ca\",\r\n  storageBucket: \"elderease-ef8ca.appspot.com\",\r\n  messagingSenderId: \"594018006274\",\r\n  appId: \"1:594018006274:web:7cc3b24c3c8f0031f4fe1b\",\r\n  measurementId: \"G-B4EYPLNTQD\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig); // <-- export app\r\nexport const analytics = getAnalytics(app); // optional\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;;;;;;AACxB;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,kBAAkB;AAClB,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAGO,MAAM,MAAM,IAAA,wMAAa,EAAC,iBAAiB,iBAAiB;AAC5D,MAAM,YAAY,IAAA,6MAAY,EAAC,MAAM,WAAW;AAChD,MAAM,OAAO,IAAA,oMAAO,EAAC;AACrB,MAAM,KAAK,IAAA,wMAAY,EAAC","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/app/api/auth/login/route.ts"],"sourcesContent":["// src/app/api/auth/login/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { auth, db } from '@/firebaseConfig';\nimport { doc, getDoc } from 'firebase/firestore';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, password } = await request.json();\n\n    if (!email || !password) {\n      return NextResponse.json({ error: 'Email and password are required' }, { status: 400 });\n    }\n\n    // Firebase Auth sign-in\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    const firebaseUser = userCredential.user;\n\n    // Fetch additional user data from Firestore\n    const userRef = doc(db, 'users', firebaseUser.uid);\n    const userSnap = await getDoc(userRef);\n\n    if (!userSnap.exists()) {\n      return NextResponse.json({ error: 'User data not found' }, { status: 404 });\n    }\n\n    const userData = userSnap.data();\n\n    return NextResponse.json({\n      message: 'Login successful',\n      user: {\n        id: firebaseUser.uid,\n        email: firebaseUser.email,\n        name: userData?.name || '',\n        phone: userData?.phone || '',\n        birthYear: userData?.birthYear || '',\n      }\n    }, { status: 200 });\n\n  } catch (err: any) {\n    console.error('Login error:', err);\n\n    if (err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') {\n      return NextResponse.json({ error: 'Invalid email or password' }, { status: 401 });\n    }\n\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAClC;AACA;AAAA;AACA;AACA;AAAA;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9C,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkC,GAAG;gBAAE,QAAQ;YAAI;QACvF;QAEA,wBAAwB;QACxB,MAAM,iBAAiB,MAAM,IAAA,uNAA0B,EAAC,oJAAI,EAAE,OAAO;QACrE,MAAM,eAAe,eAAe,IAAI;QAExC,4CAA4C;QAC5C,MAAM,UAAU,IAAA,+LAAG,EAAC,kJAAE,EAAE,SAAS,aAAa,GAAG;QACjD,MAAM,WAAW,MAAM,IAAA,kMAAM,EAAC;QAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;YACtB,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QAEA,MAAM,WAAW,SAAS,IAAI;QAE9B,OAAO,qKAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,IAAI,aAAa,GAAG;gBACpB,OAAO,aAAa,KAAK;gBACzB,MAAM,UAAU,QAAQ;gBACxB,OAAO,UAAU,SAAS;gBAC1B,WAAW,UAAU,aAAa;YACpC;QACF,GAAG;YAAE,QAAQ;QAAI;IAEnB,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,gBAAgB;QAE9B,IAAI,IAAI,IAAI,KAAK,yBAAyB,IAAI,IAAI,KAAK,uBAAuB;YAC5E,OAAO,qKAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA4B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,OAAO,qKAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF","debugId":null}}]
}