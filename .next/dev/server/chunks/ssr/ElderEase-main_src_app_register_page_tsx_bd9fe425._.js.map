{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/ElderEase-main/ElderEase-main/src/app/register/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\nexport default function Register() {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    phone: '',\n    birthYear: ''\n  })\n  const [errors, setErrors] = useState<{[key: string]: string}>({})\n  const [isSuccess, setIsSuccess] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const currentYear = new Date().getFullYear()\n  const birthYears = Array.from({ length: 80 }, (_, i) => currentYear - i - 10)\n\n  const validateForm = () => {\n    const newErrors: {[key: string]: string} = {}\n\n    if (!formData.name.trim()) newErrors.name = 'Please enter your full name'\n\n    if (!formData.email) newErrors.email = 'Email is required'\n    else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) newErrors.email = 'Please enter a valid email address'\n\n    if (!formData.password) newErrors.password = 'Please create a password'\n    else if (formData.password.length < 6) newErrors.password = 'Password should be at least 6 characters long'\n\n    if (formData.password !== formData.confirmPassword) newErrors.confirmPassword = 'Passwords do not match'\n\n    if (!formData.birthYear) newErrors.birthYear = 'Please select your birth year'\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (validateForm()) {\n      setIsLoading(true)\n      \n      try {\n        const response = await fetch('/api/auth/register', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(formData),\n        })\n\n        const data = await response.json()\n\n        if (response.ok) {\n          // Save user info locally\n          localStorage.setItem('elderease_user', JSON.stringify(data.user))\n          localStorage.setItem('elderease_user_id', data.user.email) // Using email as ID\n          localStorage.setItem('elderease_is_logged_in', 'true')\n          \n          setIsSuccess(true)\n        } else {\n          setErrors({ email: data.error || 'Registration failed' })\n        }\n      } catch {\n        setErrors({ email: 'Network error. Please try again.' })\n      } finally {\n        setIsLoading(false)\n      }\n    }\n  }\n\n const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n  let value = e.target.value;\n\n  // Prevent numbers in name\n  if (e.target.name === \"name\") {\n    value = value.replace(/[0-9]/g, \"\"); \n  }\n\n  // Limit phone to 11 digits\n  if (e.target.name === \"phone\") {\n    value = value.replace(/\\D/g, \"\").slice(0, 11);\n  }\n\n  setFormData({ ...formData, [e.target.name]: value });\n\n  if (errors[e.target.name]) {\n    setErrors({ ...errors, [e.target.name]: \"\" });\n  }\n};\n\n\n  if (isSuccess) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4\">\n        <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\n          <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <span className=\"text-3xl\">âœ…</span>\n          </div>\n          <h2 className=\"text-3xl font-bold text-green-800 mb-4\">Welcome to ElderEase!</h2>\n          <p className=\"text-lg text-gray-700 mb-6\">\n            Your account has been created successfully. Let's customize your experience!\n          </p>\n          <div className=\"space-y-3\">\n            <a \n              href=\"/accessibility\" \n              className=\"block w-full bg-green-600 text-white text-lg py-3 rounded-lg hover:bg-green-700 transition font-semibold\"\n            >\n              Customize Settings\n            </a>\n            <a \n              href=\"/\" \n              className=\"block w-full bg-blue-600 text-white text-lg py-3 rounded-lg hover:bg-blue-700 transition font-semibold\"\n            >\n              Skip to Homepage\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4\">\n      <div className=\"max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\">\n        <div className=\"bg-blue-700 text-white p-6 text-center\">\n          <h2 className=\"text-3xl font-bold\">Join ElderEase</h2>\n          <p className=\"text-blue-100 mt-2\">Create your free account to get started</p>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/** Full Name */}\n          <InputField\n            label=\"Full Name *\"\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"Enter your full name\"\n            value={formData.name}\n            onChange={handleChange}\n            error={errors.name}\n          />\n\n          {/** Email */}\n          <InputField\n            label=\"Email Address *\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"your.email@example.com\"\n            value={formData.email}\n            onChange={handleChange}\n            error={errors.email}\n          />\n\n          {/** Birth Year */}\n          <div>\n            <label htmlFor=\"birthYear\" className=\"block text-lg font-medium text-gray-700 mb-2\">\n              Year of Birth *\n            </label>\n            <select\n              id=\"birthYear\"\n              name=\"birthYear\"\n              value={formData.birthYear}\n              onChange={handleChange}\n              className={`w-full px-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 placeholder-gray-800 ${\n                errors.birthYear ? 'border-red-500 focus:ring-red-300' : 'border-gray-300 focus:ring-blue-300 focus:border-blue-500'\n              }`}\n            >\n              <option value=\"\">Select your birth year</option>\n              {birthYears.map(year => (\n                <option key={year} value={year}>{year}</option>\n              ))}\n            </select>\n            {errors.birthYear && <p className=\"mt-2 text-red-600 text-sm \">{errors.birthYear}</p>}\n          </div>\n\n          {/** Phone */}\n          <InputField\n            label=\"Phone Number (Optional)\"\n            name=\"phone\"\n            type=\"tel\"\n            placeholder=\"+1 (555) 123-4567\"\n            value={formData.phone}\n            onChange={handleChange}\n          />\n\n          {/** Password */}\n          <InputField\n            label=\"Create Password *\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"At least 6 characters\"\n            value={formData.password}\n            onChange={handleChange}\n            error={errors.password}\n          />\n\n          {/** Confirm Password */}\n          <InputField\n            label=\"Confirm Password *\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            placeholder=\"Enter your password again\"\n            value={formData.confirmPassword}\n            onChange={handleChange}\n            error={errors.confirmPassword}\n          />\n\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-blue-600 text-white text-lg py-4 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 transition font-semibold shadow-lg\"\n          >\n            {isLoading ? 'Creating Account...' : 'Create My Account'}\n          </button>\n        </form>\n\n        <div className=\"px-6 pb-6 text-center\">\n          <p className=\"text-gray-600\">\n            Already have an account?{' '}\n            <a href=\"/login\" className=\"text-blue-600 hover:bg-green-700 bg-green-600 px-2 py-1 rounded font-semibold text-lg\">\n              Sign in here\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/** Reusable Input Field Component */\nfunction InputField({\n  label,\n  name,\n  type,\n  placeholder,\n  value,\n  onChange,\n  error\n}: {\n  label: string\n  name: string\n  type: string\n  placeholder: string\n  value: string\n  onChange: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => void\n  error?: string\n}) {\n  return (\n    <div>\n      <label htmlFor={name} className=\"block text-lg font-medium text-gray-700 mb-2\">{label}</label>\n      <input\n        type={type}\n        id={name}\n        name={name}\n        value={value}\n        onChange={onChange}\n        placeholder={placeholder}\n        className={`w-full px-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 placeholder-gray-600 ${\n          error ? 'border-red-500 focus:ring-red-300' : 'border-gray-300 focus:ring-blue-300 focus:border-blue-500'\n        }`}\n      />\n      {error && <p className=\"mt-2 text-red-600 text-sm\">{error}</p>}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}